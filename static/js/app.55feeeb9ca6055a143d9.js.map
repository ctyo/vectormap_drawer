{"version":3,"sources":["webpack:///./src/App.vue?4202","webpack:///./src/App.vue","webpack:///src/App.vue","webpack:///src/components/Map.vue","webpack:///./src/components/Map.vue?9d5c","webpack:///./src/components/Map.vue","webpack:///./src/router/index.js","webpack:///./src/main.js"],"names":["selectortype_template_index_0_src_App","render","_h","this","$createElement","_c","_self","attrs","id","_m","_v","staticRenderFns","staticClass","href","width","height","src","alt","data-recalc-dims","src_App","__webpack_require__","normalizeComponent","name","ssrContext","geojsonExtent","Map","mounted","$route","query","token","style","input","drawMap","methods","_this","mapbox_gl_default","a","accessToken","map","container","center","zoom","on","addSource","type","data","features","addLayer","source","paint","circle-color","circle-opacity","circle-radius","base","stops","filter","layout","line-join","line-cap","line-color","line-width","fill-color","property","text-field","text-size","symbol-placement","text-variable-anchor","text-radial-offset","text-justify","text-color","text-halo-color","text-halo-width","text-halo-blur","inputChange","geojson","split","line","length","point","geometry","coordinates","properties","marker-color","marker-size","marker-symbol","push","_point","points","l","i","_point2","nesw","latlon_geohash","bounds","polygon","ne","lon","sw","lat","color","Object","geohashtorgb","linestring","polyline_default","decode","p","stringify_default","getSource","setData","fitBounds","console","dir","changeUrl","$router","path","mapstyles","components_Map","_vm","_l","m","key","domProps","value","_s","placeholder","directives","rawName","expression","change","$event","target","composing","src_components_Map","Map_normalizeComponent","Vue","use","Router","VueAnalytics","router","routes","component","config","productionTip","el","components","App","template"],"mappings":"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","file":"static/js/app.55feeeb9ca6055a143d9.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_vm._m(0),_vm._v(\" \"),_c('router-view')],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('a',{staticClass:\"forkme-line\",attrs:{\"href\":\"https://github.com/ctyo/vectormap_drawer\"}},[_c('img',{staticClass:\"attachment-full size-full\",attrs:{\"width\":\"149\",\"height\":\"149\",\"src\":\"https://github.blog/wp-content/uploads/2008/12/forkme_left_darkblue_121621.png?resize=149%2C149\",\"alt\":\"Fork me on GitHub\",\"data-recalc-dims\":\"1\"}})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-abfb53dc\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-abfb53dc\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-abfb53dc\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\">\n    <a\n      class=\"forkme-line\"\n      href=\"https://github.com/ctyo/vectormap_drawer\"\n    ><img\n        width=\"149\"\n        height=\"149\"\n        src=\"https://github.blog/wp-content/uploads/2008/12/forkme_left_darkblue_121621.png?resize=149%2C149\"\n        class=\"attachment-full size-full\"\n        alt=\"Fork me on GitHub\"\n        data-recalc-dims=\"1\"\n      ></a>\n    <router-view />\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"App\"\n};\n</script>\n\n<style>\nhtml,\nbody {\n  margin: 0;\n  padding: 0;\n}\nhtml,\nbody,\n#app {\n  height: 100%;\n}\n.forkme-line {\n  position: absolute;\n  left: 0;\n  top: 0;\n  z-index: 99;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","<template>\n  <div class=\"wrapper\">\n    <div id=\"map\"></div>\n    <div id=\"control\">\n      <select name=”mapstyle”>\n        <option\n          v-for=\"m in mapstyles\"\n          v-bind:value=\"m.id\"\n          v-bind:key=\"m.id\"\n        >\n          {{ m.id }}\n        </option>\n      </select>\n      <br>\n      <input\n        id=\"tile\"\n        type=\"text\"\n        placeholder=\"tile style\"\n        v-bind:value=style\n      >\n      <input\n        id=\"token\"\n        type=\"text\"\n        v-bind:value=token\n      >\n\n      <hr>\n\n      <p>input</p>\n      <textarea\n        v-model=\"input\"\n        @change=\"inputChange\"\n      ></textarea>\n\n      <p>geojson</p>\n      <textarea v-model=\"geojson\"></textarea>\n\n    </div>\n\n  </div>\n</template>\n\n<script>\nimport mapboxgl from \"mapbox-gl\";\nimport polyline from \"@mapbox/polyline\";\nimport Geohash from \"latlon-geohash\";\nimport { geohashToRGB } from \"geohashtorgb\";\nconst geojsonExtent = require(\"geojson-extent\");\n\nexport default {\n  name: \"Map\",\n  mounted: function() {\n    // パラメーター処理\n    if (this.$route.query.token) {\n      this.token = this.$route.query.token;\n    }\n\n    if (this.$route.query.style) {\n      this.style = this.$route.query.style;\n    }\n\n    if (this.$route.query.input) {\n      this.input = this.$route.query.input;\n    }\n\n    this.drawMap();\n  },\n  methods: {\n    drawMap() {\n      mapboxgl.accessToken = this.token;\n\n      // eslint-disable-next-line no-unused-vars\n      this.map = new mapboxgl.Map({\n        container: \"map\",\n        style: this.style,\n        center: [139.767, 35.681],\n        zoom: 11\n      });\n      this.map.on(\"load\", () => {\n        let geojson = {\n          type: \"FeatureCollection\",\n          features: []\n        };\n        this.map\n          .addSource(\"trace\", { type: \"geojson\", data: geojson })\n          .addLayer({\n            id: \"trace-point\",\n            type: \"circle\",\n            source: \"trace\",\n            paint: {\n              \"circle-color\": \"red\",\n              \"circle-opacity\": 0.6,\n              \"circle-radius\": {\n                base: 1.75,\n                stops: [\n                  [0, 4],\n                  [22, 180]\n                ]\n              }\n            },\n            filter: [\"==\", \"$type\", \"Point\"]\n          })\n          .addLayer({\n            id: \"trace-line\",\n            type: \"line\",\n            source: \"trace\",\n            layout: {\n              \"line-join\": \"round\",\n              \"line-cap\": \"round\"\n            },\n            paint: {\n              \"line-color\": \"red\",\n              \"line-width\": 5\n            },\n            filter: [\"==\", \"$type\", \"LineString\"]\n          })\n          .addLayer({\n            id: \"trace-geohash\",\n            type: \"fill\",\n            source: \"trace\",\n            paint: {\n              \"fill-color\": { type: \"identity\", property: \"color\" }\n            },\n            filter: [\"==\", \"$type\", \"Polygon\"]\n          })\n          .addLayer({\n            id: \"trace-label\",\n            type: \"symbol\",\n            source: \"trace\",\n            layout: {\n              \"text-field\": \"{name}\\n\",\n              \"text-size\": 12,\n              \"symbol-placement\": \"point\",\n              \"text-variable-anchor\": [\"top\", \"bottom\", \"left\", \"right\"],\n              \"text-radial-offset\": 0.5,\n              \"text-justify\": \"auto\"\n            },\n            paint: {\n              \"text-color\": [\n                \"case\",\n                [\"boolean\", [\"feature-state\", \"hover\"], false],\n                \"rgba(255,0,0,0.75)\",\n                \"rgba(255,0,0,0.75)\"\n              ],\n              \"text-halo-color\": [\n                \"case\",\n                [\"boolean\", [\"feature-state\", \"hover\"], false],\n                \"rgba(255,255,0,0.75)\",\n                \"rgba(255,255,255,0.75)\"\n              ],\n              \"text-halo-width\": 2,\n              \"text-halo-blur\": 0\n            }\n          });\n\n        this.inputChange();\n      });\n    },\n    inputChange() {\n      let geojson = {\n        type: \"FeatureCollection\",\n        features: []\n      };\n\n      const input = this.input.split(\"\\n\");\n      input.map(line => {\n        if (line === \"\" || line === \"\\n\") {\n          return;\n        }\n\n        if (line.split(\",\").length === 3) {\n          // 緯度経度行\n          const point = {\n            type: \"Feature\",\n            geometry: {\n              type: \"Point\",\n              coordinates: [line.split(\",\")[1] * 1, line.split(\",\")[0] * 1]\n            },\n            properties: {\n              name: line.split(\",\")[2],\n              \"marker-color\": \"#3bb2d0\",\n              \"marker-size\": \"large\",\n              \"marker-symbol\": \"rocket\"\n            }\n          };\n          geojson.features.push(point);\n        } else if (line.split(\",\").length === 2) {\n          // 緯度経度行\n          const point = {\n            type: \"Feature\",\n            geometry: {\n              type: \"Point\",\n              coordinates: [line.split(\",\")[1] * 1, line.split(\",\")[0] * 1]\n            },\n            properties: {\n              name: line,\n              \"marker-color\": \"#3bb2d0\",\n              \"marker-size\": \"large\",\n              \"marker-symbol\": \"rocket\"\n            }\n          };\n          geojson.features.push(point);\n        } else if (line.split(\",\").length === line.split(\"|\").length + 1) {\n          // 緯度経度点列\n          const points = line.split(\"|\").map(l => {\n            return l.split(\",\");\n          });\n          for (let i = 0; i < points.length; i++) {\n            const point = {\n              type: \"Feature\",\n              geometry: {\n                type: \"Point\",\n                coordinates: [points[i][0] * 1, points[i][1] * 1]\n              },\n              properties: {\n                name: i + 1,\n                \"marker-color\": \"#3bb2d0\",\n                \"marker-size\": \"large\",\n                \"marker-symbol\": \"rocket\"\n              }\n            };\n            geojson.features.push(point);\n          }\n        } else if (line.length < 12) {\n          // ここはだいたい決め打ちにしてるので...\n          const nesw = Geohash.bounds(line);\n          const polygon = {\n            type: \"Feature\",\n            geometry: {\n              type: \"Polygon\",\n              coordinates: [\n                [\n                  [nesw.ne.lon, nesw.sw.lat],\n                  [nesw.ne.lon, nesw.ne.lat],\n                  [nesw.sw.lon, nesw.ne.lat],\n                  [nesw.sw.lon, nesw.sw.lat]\n                ]\n              ]\n            },\n            properties: {\n              name: line,\n              color: geohashToRGB(line, 0.3)\n            }\n          };\n          geojson.features.push(polygon);\n        } else {\n          const linestring = {\n            type: \"Feature\",\n            geometry: {\n              type: \"LineString\",\n              coordinates: polyline.decode(line).map(p => {\n                return [p[1] * 1, p[0] * 1];\n              })\n            },\n            properties: {\n              name: line\n            }\n          };\n          geojson.features.push(linestring);\n        }\n      });\n      this.geojson = JSON.stringify(geojson, null, 2);\n      this.map.getSource(\"trace\").setData(geojson);\n\n      this.map.fitBounds(geojsonExtent(geojson));\n      console.dir(geojsonExtent(geojson));\n\n      this.changeUrl();\n    },\n    changeUrl() {\n      this.$router.push({\n        path: \"/\",\n        query: {\n          token: this.token !== this.mapstyles[0].token ? this.token : \"\",\n          style: this.style !== this.mapstyles[0].style ? this.style : \"\",\n          input: this.input\n        }\n      });\n    }\n  },\n  data() {\n    return {\n      map: null,\n      mapstyles: [\n        {\n          id: \"mapbox\",\n          token:\n            \"pk.eyJ1IjoiY3R5byIsImEiOiJjanF2cTNjMm8weHVjNDJrOGV2anp3NDFwIn0.4pGtZ9Run1--9FR8NBkuqg\",\n          style: \"mapbox://styles/ctyo/ckbvv9hj50ite1ho6xrmqyqd8\"\n        }\n      ],\n      token:\n        \"pk.eyJ1IjoiY3R5byIsImEiOiJjanF2cTNjMm8weHVjNDJrOGV2anp3NDFwIn0.4pGtZ9Run1--9FR8NBkuqg\",\n      style: \"mapbox://styles/ctyo/ckbvv9hj50ite1ho6xrmqyqd8\",\n      input:\n        \"35.7094313,139.7130015\\n\" +\n        \"35.6590845,139.6552845\\n\" +\n        \"35.6563709,139.7610576\\n\" +\n        \"eixxEqiftYaaD|jQhgHcyA??\\n\" +\n        \"xn774\\n\" +\n        \"xn7784\\n\" +\n        \"xn777\\n\" +\n        \"xn774fk\",\n      geojson: \"{}\"\n    };\n  }\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n.wrapper {\n  display: flex;\n  height: 100%;\n}\n#map {\n  width: calc(100% - 300px);\n  height: 100%;\n}\n#control {\n  width: 300px;\n  height: 100%;\n  overflow: scroll;\n}\n#control::-webkit-scrollbar {\n  display: none;\n}\n#control > input,\n#control > textarea {\n  width: 90%;\n}\n\n#control > textarea {\n  min-height: 300px;\n  resize: vertical;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Map.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrapper\"},[_c('div',{attrs:{\"id\":\"map\"}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"control\"}},[_c('select',{attrs:{\"name\":\"”mapstyle”\"}},_vm._l((_vm.mapstyles),function(m){return _c('option',{key:m.id,domProps:{\"value\":m.id}},[_vm._v(\"\\n        \"+_vm._s(m.id)+\"\\n      \")])}),0),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('input',{attrs:{\"id\":\"tile\",\"type\":\"text\",\"placeholder\":\"tile style\"},domProps:{\"value\":_vm.style}}),_vm._v(\" \"),_c('input',{attrs:{\"id\":\"token\",\"type\":\"text\"},domProps:{\"value\":_vm.token}}),_vm._v(\" \"),_c('hr'),_vm._v(\" \"),_c('p',[_vm._v(\"input\")]),_vm._v(\" \"),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.input),expression:\"input\"}],domProps:{\"value\":(_vm.input)},on:{\"change\":_vm.inputChange,\"input\":function($event){if($event.target.composing){ return; }_vm.input=$event.target.value}}}),_vm._v(\" \"),_c('p',[_vm._v(\"geojson\")]),_vm._v(\" \"),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.geojson),expression:\"geojson\"}],domProps:{\"value\":(_vm.geojson)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.geojson=$event.target.value}}})])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-ca378476\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Map.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-ca378476\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Map.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Map.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Map.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-ca378476\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Map.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-ca378476\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Map.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\nimport Router from 'vue-router'\nimport Map from '@/components/Map'\nimport VueAnalytics from 'vue-analytics'\n\nVue.use(Router)\nVue.use(VueAnalytics, {\n  id: 'UA-11027566-8'\n})\n\nexport default new Router({\n  routes: [\n    {\n      path: '/',\n      name: 'Map',\n      component: Map\n    }\n  ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport router from './router'\nimport 'mapbox-gl/dist/mapbox-gl.css'\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}